pipeline {
  agent any

  stages {
    stage('Generate Random CSV') {
      steps {
        sh '''
          set -e
          printf "id,number\n" > random_numbers.csv
          printf "1,10\n2,14" >> random_numbers.csv
        '''
        archiveArtifacts artifacts: 'random_numbers.csv', onlyIfSuccessful: true
      }
    }
  }
}
